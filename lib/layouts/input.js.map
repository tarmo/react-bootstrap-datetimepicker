{"version":3,"sources":["../../src/layouts/input.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;IAEM;;;;;;;;;;;;;;2NAsBF,QAAQ;AACJ,kBAAO,KAAP;iBAmBJ,eAAe,UAAC,CAAD,EAAO;AAClB,cAAE,cAAF,GADkB;;AAGlB,kBAAK,QAAL,CAAc;AACV,sBAAO,CAAC,MAAK,KAAL,CAAW,IAAX;aADZ,EAHkB;SAAP,QAQf,cAAc,YAAM;AAChB,kBAAK,QAAL,CAAc,EAAE,MAAO,KAAP,EAAhB,EADgB;SAAN,QAId,eAAe,YAAM;AACjB,kBAAK,QAAL,CAAc,EAAE,MAAO,KAAP,EAAhB,EADiB;SAAN;;;iBAtDb;;kDA0ByB,OAAO;gBACtB,OAAS,KAAK,KAAL,CAAT,KADsB;gBAG1B,OAIA,MAJA,KAH0B;gBAI1B,WAGA,MAHA,SAJ0B;gBAK1B,WAEA,MAFA,SAL0B;gBAM1B,WACA,MADA,SAN0B;;;AAS9B,gBAAM,aAAa,sBAAO,KAAK,KAAL,CAAW,QAAX,CAAP,CAA4B,IAA5B,OAAuC,sBAAO,QAAP,EAAiB,IAAjB,EAAvC,CATW;;AAW9B,gBAAI,QAAQ,QAAR,IAAoB,UAApB,IAAkC,CAAC,QAAD,IAAa,0BAA/C,EAAmE;AACnE,qBAAK,QAAL,CAAc,EAAE,MAAO,KAAP,EAAhB,EADmE;aAAvE;;;;iCAqBM;;;yBAMF,KAAK,KAAL,CANE;gBAEF,6BAFE;gBAGF,qBAHE;gBAIF,+BAJE;gBAKc,wBAAhB,eALE;gBAOE,OAAS,KAAK,KAAL,CAAT,KAPF;;AAQN,gBAAI,eAAJ,CARM;;AAUN,gBAAI,UAAJ,EAAgB;AACZ,yBACI,oDAAqC,KAAK,KAAL,CADzC,CADY;aAAhB,MAIO;AACH,yBACI,+DAAmC,KAAK,KAAL;AACL,kCAAe,KAAK,YAAL,GAD7C,CADJ,CADG;aAJP;;AAWA,gBAAM,SAAS,SAAT,MAAS;uBAAM,2BAAY,OAAK,IAAL,CAAU,KAAV;aAAlB,CArBT;;AAuBN,mBACI;;kBAAK,OAAQ,EAAE,UAAW,UAAX,EAAV,EAAL;gBACI,8BAAC,cAAD,eAAqB,KAAK,KAAL;AACA,0BAAO,IAAP;AACA,yBAAI,OAAJ;AACA,6BAAU,KAAK,YAAL,GAH/B,CADJ;gBAKI;;sBAAS,WAAU,QAAV;AACA,8BAAO,IAAP;AACA,mCAAY,CAAC,KAAD;AACZ;AACA,gCAAS,KAAK,WAAL;AACT,mCAAY,SAAZ;AACA;AACA,gCAAS,MAAT,EAPT;oBAQI;;qCAA8B,KAAK,KAAL;AACL,oCAAS,MAAT,GADzB;wBAEM,MAFN;qBARJ;iBALJ;aADJ,CAvBM;;;;WA1DR;;;0BAEK,YAAY;AACf,YAAa,gBAAM,SAAN,CAAgB,MAAhB;AACb,wCAFe;AAGf,gBAAa,gBAAM,SAAN,CAAgB,IAAhB;AACb,cAAa,+BAAgB,SAAhB;AACb,WAAa,gBAAM,SAAN,CAAgB,IAAhB;AACb,UAAa,gBAAM,SAAN,CAAgB,IAAhB;AACb,WAAa,gBAAM,SAAN,CAAgB,MAAhB;AACb,gBAAa,gBAAM,SAAN,CAAgB,IAAhB;AACb,gBAAa,gBAAM,SAAN,CAAgB,IAAhB;AACb,WAAa,gBAAM,SAAN,CAAgB,MAAhB;;AAEb,oBAAgB,gBAAM,SAAN,CAAgB,IAAhB;;AAdlB,0BAiBK,eAAe;AAClB,eAAY,OAAO,QAAP,CAAgB,aAAhB,CAA8B,MAA9B,CAAZ;AACA,mCAFkB;;kBAyFX","file":"input.js","sourcesContent":["import React, { Component } from \"react\"\nimport { findDOMNode } from \"react-dom\"\nimport { Overlay } from \"react-overlays\"\nimport { mountable } from \"react-prop-types\"\nimport MomentPropTypes from \"react-moment-proptypes\"\nimport Fade from \"../components/fade.js\"\nimport DateTimePickerInput from \"../components/input.js\"\nimport DateTimePickerContainer from \"../components/container.js\"\nimport DateTimePickerLayoutHorizontal from \"./horizontal.js\"\nimport DateTimePickerLayoutVertical from \"./vertical.js\"\nimport { MODE_DATE } from \"../config.js\"\nimport moment from \"moment\"\n\nclass DateTimePickerLayoutInput extends Component {\n\n    static propTypes = {\n        bsSize     : React.PropTypes.string,\n        container  : mountable,\n        datePicker : React.PropTypes.node,\n        dateTime   : MomentPropTypes.momentObj,\n        debug      : React.PropTypes.bool,\n        icon       : React.PropTypes.bool,\n        icons      : React.PropTypes.object,\n        sideBySide : React.PropTypes.bool,\n        timePicker : React.PropTypes.node,\n        value      : React.PropTypes.string,\n\n        inputComponent: React.PropTypes.func\n    };\n\n    static defaultProps = {\n        container : global.document.querySelector(\"body\"),\n        inputComponent: DateTimePickerInput\n    };\n\n    state = {\n        show : false\n    };\n\n    componentWillReceiveProps (props) {\n        const { show } = this.state\n        const {\n            mode,\n            keepOpen,\n            dateTime,\n            selected\n        } = props\n\n        const dayChanged = moment(this.props.dateTime).date() !== moment(dateTime).date()\n\n        if (show && selected && dayChanged && !keepOpen && mode === MODE_DATE) {\n            this.setState({ show : false })\n        }\n    }\n\n    onClickInput = (e) => {\n        e.preventDefault()\n\n        this.setState({\n            show : !this.state.show\n        })\n    };\n\n    onHidePopup = () => {\n        this.setState({ show : false })\n    };\n\n    onClickClose = () => {\n        this.setState({ show : false })\n    };\n\n    render () {\n        const {\n            container,\n            debug,\n            sideBySide,\n            inputComponent: InputComponent\n        } = this.props\n        const { show } = this.state\n        let picker\n\n        if (sideBySide) {\n            picker = (\n                <DateTimePickerLayoutHorizontal { ...this.props } />\n            )\n        } else {\n            picker = (\n                <DateTimePickerLayoutVertical { ...this.props }\n                                              onClickClose={ this.onClickClose } />\n            )\n        }\n\n        const target = () => findDOMNode(this.refs.input)\n\n        return (\n            <div style={ { position : \"relative\" } }>\n                <InputComponent { ...this.props }\n                                     show={ show }\n                                     ref=\"input\"\n                                     onClick={ this.onClickInput } />\n                <Overlay placement=\"bottom\"\n                         show={ show }\n                         rootClose={ !debug }\n                         transition={ Fade }\n                         onHide={ this.onHidePopup }\n                         container={ container }\n                         unmountOnExit\n                         target={ target }>\n                    <DateTimePickerContainer { ...this.props }\n                                             target={ target }>\n                        { picker }\n                    </DateTimePickerContainer>\n                </Overlay>\n            </div>\n        )\n    }\n\n}\n\nexport default DateTimePickerLayoutInput\n"]}